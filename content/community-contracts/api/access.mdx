---
title: "Access"
description: "Smart contract access utilities and implementations"
---

This directory contains utility contracts to restrict access control in smart contracts. These include:

* [`AccessManagerLight`](#AccessManagerLight): A simpler version of an AccessManager that uses `bytes8` roles to allow function calls identified by their 4-bytes selector.

## AccessManager

[`AccessManagerLight`](#AccessManagerLight)

<a id="AccessManagerLight"></a>

<div style={{marginTop: "4em"}} className="w-full flex flex-row items-center justify-between">

## `AccessManagerLight`

<a target="_blank" style={{marginTop: "1.5em"}} href="https://github.com/OpenZeppelin/openzeppelin-community-contracts/blob/master/contracts/access/manager/AccessManagerLight.sol">
<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-github-icon lucide-github"><path d="M15 22v-4a4.8 4.8 0 0 0-1-3.5c3 0 6-2 6-5.5.08-1.25-.27-2.48-1-3.5.28-1.15.28-2.35 0-3.5 0 0-1 0-3 1.5-2.64-.5-5.36-.5-8 0C6 2 5 2 5 2c-.3 1.15-.3 2.35 0 3.5A5.403 5.403 0 0 0 4 9c0 3.5 3 5.5 6 5.5-.39.49-.68 1.05-.85 1.65-.17.6-.22 1.23-.15 1.85v4"/><path d="M9 18c-4.51 2-5-2-7-2"/></svg>
</a>

</div>

```solidity
import "@openzeppelin/community-contracts/access/manager/AccessManagerLight.sol";
```

Light version of an AccessManager contract that defines `bytes8` roles
that are stored as requirements (see [`AccessManagerLight.getRequirements`](#AccessManagerLight-getRequirements-address-bytes4-)) for each function.

Each requirement is a bitmask of roles that are allowed to call a function
identified by its `bytes4` selector. Users have their permissioned stored
as a bitmask of roles they belong to.

The admin role is a special role that has access to all functions and can
manage the roles of other users.

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Modifiers</h3>
<div className="font-mono">
- [onlyRole(requirement)](#AccessManagerLight-onlyRole-Masks-Mask-)
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Functions</h3>
<div className="font-mono">
- [constructor(admin)](#AccessManagerLight-constructor-address-)
- [canCall(caller, target, selector)](#AccessManagerLight-canCall-address-address-bytes4-)
- [getGroups(user)](#AccessManagerLight-getGroups-address-)
- [getGroupAdmins(group)](#AccessManagerLight-getGroupAdmins-uint8-)
- [getRequirements(target, selector)](#AccessManagerLight-getRequirements-address-bytes4-)
- [addGroup(user, group)](#AccessManagerLight-addGroup-address-uint8-)
- [remGroup(user, group)](#AccessManagerLight-remGroup-address-uint8-)
- [_addGroup(user, group)](#AccessManagerLight-_addGroup-address-uint8-)
- [_remGroup(user, group)](#AccessManagerLight-_remGroup-address-uint8-)
- [setGroupAdmins(group, admins)](#AccessManagerLight-setGroupAdmins-uint8-uint8---)
- [_setGroupAdmins(group, admins)](#AccessManagerLight-_setGroupAdmins-uint8-Masks-Mask-)
- [setRequirements(target, selectors, groups)](#AccessManagerLight-setRequirements-address-bytes4---uint8---)
- [_setRequirements(target, selector, groups)](#AccessManagerLight-_setRequirements-address-bytes4-Masks-Mask-)
- [ADMIN_ROLE()](#AccessManagerLight-ADMIN_ROLE-uint8)
- [PUBLIC_ROLE()](#AccessManagerLight-PUBLIC_ROLE-uint8)
- [ADMIN_MASK()](#AccessManagerLight-ADMIN_MASK-Masks-Mask)
- [PUBLIC_MASK()](#AccessManagerLight-PUBLIC_MASK-Masks-Mask)
#### IAuthority [!toc]
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Events</h3>
<div className="font-mono">
- [GroupAdded(user, group)](#AccessManagerLight-GroupAdded-address-uint8-)
- [GroupRemoved(user, group)](#AccessManagerLight-GroupRemoved-address-uint8-)
- [GroupAdmins(group, admins)](#AccessManagerLight-GroupAdmins-uint8-Masks-Mask-)
- [RequirementsSet(target, selector, groups)](#AccessManagerLight-RequirementsSet-address-bytes4-Masks-Mask-)
#### IAuthority [!toc]
</div>
</div>

<div className="bg-secondary p-4 rounded-md mb-6">
<h3 style={{ marginTop: "0"}}>Errors</h3>
<div className="font-mono">
- [MissingPermissions(user, permissions, requirement)](#AccessManagerLight-MissingPermissions-address-Masks-Mask-Masks-Mask-)
#### IAuthority [!toc]
</div>
</div>

<a id="AccessManagerLight-onlyRole-Masks-Mask-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">onlyRole(Masks.Mask requirement)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="AccessManagerLight-onlyRole-Masks-Mask-">#</a>
</div>
</div>

<div className="px-4">

Throws if the specified requirement is not met by the caller's permissions (see [`AccessManagerLight.getGroups`](#AccessManagerLight-getGroups-address-)).

</div>
</div>

<a id="AccessManagerLight-constructor-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">constructor(address admin)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-constructor-address-">#</a>
</div>
</div>
<div className="px-4">

Initializes the contract with the `admin` as the first member of the admin group.

</div>
</div>

<a id="AccessManagerLight-canCall-address-address-bytes4-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">canCall(address caller, address target, bytes4 selector) → bool</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-canCall-address-address-bytes4-">#</a>
</div>
</div>
<div className="px-4">

Returns whether the `caller` has the required permissions to call the `target` with the `selector`.

</div>
</div>

<a id="AccessManagerLight-getGroups-address-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">getGroups(address user) → Masks.Mask</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-getGroups-address-">#</a>
</div>
</div>
<div className="px-4">

Returns the groups that the `user` belongs to.

</div>
</div>

<a id="AccessManagerLight-getGroupAdmins-uint8-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">getGroupAdmins(uint8 group) → Masks.Mask</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-getGroupAdmins-uint8-">#</a>
</div>
</div>
<div className="px-4">

Returns the admins of the `group`.

</div>
</div>

<a id="AccessManagerLight-getRequirements-address-bytes4-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">getRequirements(address target, bytes4 selector) → Masks.Mask</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-getRequirements-address-bytes4-">#</a>
</div>
</div>
<div className="px-4">

Returns the requirements for the `target` and `selector`.

</div>
</div>

<a id="AccessManagerLight-addGroup-address-uint8-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">addGroup(address user, uint8 group)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-addGroup-address-uint8-">#</a>
</div>
</div>
<div className="px-4">

Adds the `user` to the `group`. Emits [`AccessManagerLight.GroupAdded`](#AccessManagerLight-GroupAdded-address-uint8-) event.

</div>
</div>

<a id="AccessManagerLight-remGroup-address-uint8-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">remGroup(address user, uint8 group)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-remGroup-address-uint8-">#</a>
</div>
</div>
<div className="px-4">

Removes the `user` from the `group`. Emits [`AccessManagerLight.GroupRemoved`](#AccessManagerLight-GroupRemoved-address-uint8-) event.

</div>
</div>

<a id="AccessManagerLight-_addGroup-address-uint8-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_addGroup(address user, uint8 group)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="AccessManagerLight-_addGroup-address-uint8-">#</a>
</div>
</div>
<div className="px-4">

Internal version of [`AccessManagerLight.addGroup`](#AccessManagerLight-addGroup-address-uint8-) without access control.

</div>
</div>

<a id="AccessManagerLight-_remGroup-address-uint8-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_remGroup(address user, uint8 group)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="AccessManagerLight-_remGroup-address-uint8-">#</a>
</div>
</div>
<div className="px-4">

Internal version of [`AccessManagerLight.remGroup`](#AccessManagerLight-remGroup-address-uint8-) without access control.

</div>
</div>

<a id="AccessManagerLight-setGroupAdmins-uint8-uint8---"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">setGroupAdmins(uint8 group, uint8[] admins)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-setGroupAdmins-uint8-uint8---">#</a>
</div>
</div>
<div className="px-4">

Sets the `admins` of the `group`. Emits [`AccessManagerLight.GroupAdmins`](#AccessManagerLight-GroupAdmins-uint8-Masks-Mask-) event.

</div>
</div>

<a id="AccessManagerLight-_setGroupAdmins-uint8-Masks-Mask-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_setGroupAdmins(uint8 group, Masks.Mask admins)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="AccessManagerLight-_setGroupAdmins-uint8-Masks-Mask-">#</a>
</div>
</div>
<div className="px-4">

Internal version of [`AccessManagerLight._setGroupAdmins`](#AccessManagerLight-_setGroupAdmins-uint8-Masks-Mask-) without access control.

</div>
</div>

<a id="AccessManagerLight-setRequirements-address-bytes4---uint8---"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">setRequirements(address target, bytes4[] selectors, uint8[] groups)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-setRequirements-address-bytes4---uint8---">#</a>
</div>
</div>
<div className="px-4">

Sets the `groups` requirements for the `selectors` of the `target`.

</div>
</div>

<a id="AccessManagerLight-_setRequirements-address-bytes4-Masks-Mask-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">_setRequirements(address target, bytes4 selector, Masks.Mask groups)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">internal</p>
<a className="peer" data-card href="AccessManagerLight-_setRequirements-address-bytes4-Masks-Mask-">#</a>
</div>
</div>
<div className="px-4">

Internal version of [`AccessManagerLight._setRequirements`](#AccessManagerLight-_setRequirements-address-bytes4-Masks-Mask-) without access control.

</div>
</div>

<a id="AccessManagerLight-ADMIN_ROLE-uint8"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ADMIN_ROLE() → uint8</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-ADMIN_ROLE-uint8">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="AccessManagerLight-PUBLIC_ROLE-uint8"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">PUBLIC_ROLE() → uint8</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-PUBLIC_ROLE-uint8">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="AccessManagerLight-ADMIN_MASK-Masks-Mask"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">ADMIN_MASK() → Masks.Mask</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-ADMIN_MASK-Masks-Mask">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="AccessManagerLight-PUBLIC_MASK-Masks-Mask"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">PUBLIC_MASK() → Masks.Mask</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">public</p>
<a className="peer" data-card href="AccessManagerLight-PUBLIC_MASK-Masks-Mask">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>

<a id="AccessManagerLight-GroupAdded-address-uint8-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">GroupAdded(address indexed user, uint8 indexed group)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">event</p>
<a className="peer" data-card href="AccessManagerLight-GroupAdded-address-uint8-">#</a>
</div>
</div>

<div className="px-4">

</div>
</div>
<a id="AccessManagerLight-GroupRemoved-address-uint8-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">GroupRemoved(address indexed user, uint8 indexed group)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">event</p>
<a className="peer" data-card href="AccessManagerLight-GroupRemoved-address-uint8-">#</a>
</div>
</div>

<div className="px-4">

</div>
</div>
<a id="AccessManagerLight-GroupAdmins-uint8-Masks-Mask-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">GroupAdmins(uint8 indexed group, Masks.Mask admins)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">event</p>
<a className="peer" data-card href="AccessManagerLight-GroupAdmins-uint8-Masks-Mask-">#</a>
</div>
</div>

<div className="px-4">

</div>
</div>
<a id="AccessManagerLight-RequirementsSet-address-bytes4-Masks-Mask-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">RequirementsSet(address indexed target, bytes4 indexed selector, Masks.Mask groups)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">event</p>
<a className="peer" data-card href="AccessManagerLight-RequirementsSet-address-bytes4-Masks-Mask-">#</a>
</div>
</div>

<div className="px-4">

</div>
</div>

<a id="AccessManagerLight-MissingPermissions-address-Masks-Mask-Masks-Mask-"></a>

<div className="border rounded-md mb-4">
<div className="bg-secondary flex w-full justify-between px-4">
<p className="font-bold text-sm font-mono">MissingPermissions(address user, Masks.Mask permissions, Masks.Mask requirement)</p>
<div className="flex flex-row items-center gap-2">
<p className="font-light text-sm">error</p>
<a className="peer" data-card href="AccessManagerLight-MissingPermissions-address-Masks-Mask-Masks-Mask-">#</a>
</div>
</div>
<div className="px-4">

</div>
</div>
